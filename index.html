<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hvad siger Emma?</title>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <!-- Using Montserrat for a bold, modern look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">
    
    <!-- Confetti Library for the 'JA' celebration -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        /* --- CSS STYLING --- */
        
        /* Basic reset and full-screen setup */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            font-family: 'Montserrat', sans-serif;
            
            /* L√¶kker soft pink gradient baggrund */
            background: linear-gradient(135deg, #fff0f3 0%, #ffe3e8 100%);
            transition: background 0.5s ease; /* Smooth background transition */
            
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Prevent scrolling */
            cursor: pointer; /* Indicates the whole page is clickable */
            user-select: none; /* Prevents highlighting text when clicking fast */
            -webkit-tap-highlight-color: transparent; /* Removes mobile tap highlight */
        }

        /* Container for the main content to keep it centered */
        .content-wrapper {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 800px;
            padding: 20px;
            /* Default hidden state for animation */
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.3s ease, transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Class to show content with a POP effect */
        .content-visible {
            opacity: 1;
            transform: scale(1);
        }

        /* The massive JA / NEJ text */
        .answer-text {
            font-size: 20vw; /* Scales with viewport width */
            margin: 0;
            line-height: 1;
            
            /* Emmas yndlingsfarve (Hot Pink) */
            color: #d63384; 
            
            text-transform: uppercase;
            text-shadow: 3px 3px 0px rgba(255, 255, 255, 0.5); /* Let hvid skygge for dybde */
            transition: color 0.3s ease;
        }

        /* Cap the font size on very large screens */
        @media (min-width: 1000px) {
            .answer-text {
                font-size: 200px;
            }
        }

        /* The image styling - now as a fancy painting */
        .emma-img {
            margin-top: 5vh;
            max-width: 80%; /* Slightly smaller to fit frame */
            max-height: 50vh; 
            width: auto;
            
            /* The "Expensive Painting" Frame Look */
            border: 15px solid #d4af37; /* Gold frame */
            outline: 5px solid #5a4a25; /* Darker inner wood trim */
            box-shadow: 
                inset 0 0 20px rgba(0,0,0,0.5), /* Inner shadow for depth */
                0 15px 35px rgba(0,0,0,0.4); /* Heavy wall shadow */
            
            object-fit: cover; /* Ensures it fills the frame nicely */
            background-color: #fff; 
            
            transform-origin: top center; /* Swing from the top */
        }

        /* Animation: Shake (for NEJ) */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        
        .shake-effect .emma-img, 
        .shake-effect .answer-text {
            animation: shake 0.5s;
            animation-iteration-count: 1;
        }

        /* Helper text at the bottom */
        .hint {
            position: absolute;
            bottom: 30px;
            color: #bdc3c7;
            font-size: 0.9rem;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

    </style>
</head>
<body>

    <div class="content-wrapper" id="app">
        <!-- Text and Image will be injected here by JavaScript -->
        <h1 class="answer-text" id="answer"></h1>
        <!-- 
            IMPORTANT: 
            Place your images in the same folder as this file.
            Names must be exactly: 'emma_ja.jpg' and 'emma_nej.jpg'
        -->
        <img id="image" class="emma-img" src="" alt="Emma">
    </div>

    <div class="hint">Klik for at sp√∏rge igen</div>

    <script>
        /* --- JAVASCRIPT LOGIC --- */

        // Configuration for the two states
        // You can add more image paths to these arrays when you add new photos to the folders!
        const states = [
            {
                type: 'JA', // Used for logic
                text: "JA",
                images: [
                    "images_ja/Emma-Thumbs-up.jpeg",
                    "images_ja/1DD3CAF8-2013-40C8-B127-3D0FDC74C77C.jpeg",
                    "images_ja/37E18B7A-2F3B-4F17-88DD-AFC473C36D18_1_105_c.jpeg",
                    "images_ja/D91E3BDC-649C-4ED7-988B-D4340F70D85C_1_105_c.jpeg",
                    "images_ja/Messenger image.jpeg"
                ],
                alt: "Emma siger JA üëç"
            },
            {
                type: 'NEJ', // Used for logic
                text: "NEJ",
                images: [
                    "images_nej/Emma-Thumbs-down.jpeg",
                    "images_nej/4F98A5A5-ECCB-422F-AE20-CB4A337552E3_1_105_c.jpeg",
                    "images_nej/FAC35DE8-81EA-4205-921B-693A13109CD6_1_105_c.jpeg",
                    "images_nej/Messenger Image (1).jpeg"
                ],
                alt: "Emma siger NEJ üëé"
            }
        ];

        // DOM Elements
        const appContainer = document.getElementById('app');
        const answerEl = document.getElementById('answer');
        const imageEl = document.getElementById('image');

        // Preload images to ensure smooth transitions
        function preloadImages() {
            states.forEach(state => {
                state.images.forEach(imgSrc => {
                    const img = new Image();
                    img.src = imgSrc;
                });
            });
        }

        // Trigger Confetti Celebration
        function fireConfetti() {
            var count = 200;
            var defaults = {
                origin: { y: 0.7 }
            };

            function fire(particleRatio, opts) {
                confetti(Object.assign({}, defaults, opts, {
                    particleCount: Math.floor(count * particleRatio),
                    colors: ['#d63384', '#ff8fab', '#ffc2d1', '#ffd700', '#ffffff'] // Pink & Gold theme
                }));
            }

            fire(0.25, { spread: 26, startVelocity: 55, });
            fire(0.2, { spread: 60, });
            fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
            fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
            fire(0.1, { spread: 120, startVelocity: 45, });
        }

        // Function to update the page content
        function randomizeState() {
            // 1. Hide Content (Shrink out)
            appContainer.classList.remove('content-visible');
            appContainer.classList.remove('shake-effect'); // Reset shake

            // Wait slightly for the shrink animation
            setTimeout(() => {
                // Pick a random state (0 = JA, 1 = NEJ)
                const stateIndex = Math.floor(Math.random() * states.length);
                const selection = states[stateIndex];

                // Pick a random image from that state's collection
                const randomImgIndex = Math.floor(Math.random() * selection.images.length);
                const nextImageSrc = selection.images[randomImgIndex];

                // Prepare the change
                answerEl.textContent = selection.text;
                
                // Create a temporary loader to know when the image is ready
                const tempImg = new Image();
                
                const showContent = () => {
                    imageEl.src = nextImageSrc;
                    imageEl.alt = selection.alt;
                    
                    // 2. Show Content (Pop in!)
                    appContainer.classList.add('content-visible');

                    // 3. Trigger Effects based on type
                    if (selection.type === 'JA') {
                        // Success Theme
                        document.body.style.background = "linear-gradient(135deg, #fff0f3 0%, #ffe3e8 100%)";
                        answerEl.style.color = "#d63384"; // Hot Pink
                        fireConfetti();
                    } else {
                        // Failure Theme (Slightly darker/grayer pink)
                        document.body.style.background = "linear-gradient(135deg, #e6dce0 0%, #cfc4c8 100%)";
                        answerEl.style.color = "#8e2b58"; // Darker/Sad Pink
                        appContainer.classList.add('shake-effect');
                    }
                };

                tempImg.onload = showContent;
                tempImg.onerror = showContent; // Fallback
                tempImg.src = nextImageSrc;

            }, 300); // Wait for shrink to finish
        }

        // Initialize: Run once when page loads
        window.addEventListener('load', () => {
            preloadImages(); 
            randomizeState();
        });

        // Event Listener: Click anywhere on the body to re-roll
        document.body.addEventListener('click', randomizeState);

        // Optional: Allow spacebar to trigger it too for accessibility/fun
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                randomizeState();
            }
        });

    </script>
</body>
</html>